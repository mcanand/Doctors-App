<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <template id="homepage_inherit" inherit_id="website.homepage">
        <xpath expr="//div[@id='wrap']" position="replace">

            <!-- use this method to add content to the nav bar -->
            <t t-set="app_nav_in_content">
                <span class="poppins300" style="font-size:13px;color:#666;">
                    Welcome
                </span>
                <br/>
                <span class="poppins600">
                    <t t-esc="request.env.user.name"/>
                </span>
            </t>
            <!-- ==================== ============== -->
            <!--            <t t-set="app" t-value="requset.env[]"-->
            <t t-set="appointments">
                <t t-set="user_partner_id" t-value="request.env.user.partner_id"/>
                <t t-set="today" t-value="datetime.datetime.now().strftime('%Y-%m-%d')"/>
                <t t-set="bookings" t-value="request.env['doctor.time.slots'].sudo().search([
                    ('partner_ids', 'in', user_partner_id.ids),
                    ('booking_button', '=', True),
                    ('date', '=', today),
                ])"/>
                <t t-set="booking_details" t-value="[]"/>
                <t t-foreach="bookings" t-as="booking">
                    <t t-set="booking_dict" t-value="{
                        'doctor_name': booking.doctor_id.name,
                        'from_time': booking.from_time,
                        'date': booking.date,
                        'meeting_link': booking.meeting_link,
                    }"/>
                    <t t-set="booking_details" t-value="booking_details + [booking_dict]"/>
                </t>
            </t>
            <div class="container" style="maximum-width:1500px;" id="wrap">
                <div class="row mt-3">
                    <div class="col-9 poppins500 app_color">
                        Today's<br/>Appointments
                    </div>
                    <div class="col-3 text-end app_color">
                        see all
                    </div>
                </div>
                <t t-esc="appointments"></t>
<!--                <div class="appointment-container mt-3">-->
<!--                    <div class="appointments-box">-->
<!--                        <t t-foreach="appointments" t-as="appointment">-->
<!--                            <div class="appointment-details">-->
<!--                                <div class="doctor-info">-->
<!--                                    <div class="small-box"></div>-->
<!--                                    <div class="name">  <t t-esc="appointment['doctor_name']"/>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                                <div class="doctor-info">-->
<!--                                    <div class="departments">General Medicine</div>-->
<!--                                    <div class="rating">Rating: 4.5</div>-->
<!--                                </div>-->
<!--                                <div class="time-icon">-->
<!--                                    <i class="fa fa-clock-o"></i>-->
<!--                                    Today 10:00 AM-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </t>-->
<!--                    </div>-->
<!--                </div>-->

                <div class="row mt-3">
                    <div class="col-12">
                        <a href="/departments" class="btn shadow-none app_card w-100 poppins400">View all departments
                        </a>
                    </div>
                </div>

                <div class="row mt-2">
                    <div class="col-7 app_color">
                        Lets Find Your Doctor
                    </div>
                    <div class="col-5 text-end app_color">
                        see all
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 department-container">
                        <!-- Example department buttons -->
                        <button class="department-button">General Medicine</button>
                        <button class="department-button">cold</button>
                        <button class="department-button">Department 3</button>
                        <button class="department-button">Department nmkilf</button>
                        <!-- You can add more department buttons here -->
                    </div>
                </div>
                <div class="row">
                    <div class="col-24 doctor-container">
                        <button class="doctor-box">
                            <div class="doctor-information">
                                <div class="image-box"></div>
                                <div class="doctor-name">Alexander Here</div>
                                <div class="department-name">Department</div>
                            </div>

                        </button>
                    </div>
                </div>
            </div>
        </xpath>
    </template>
</odoo>
